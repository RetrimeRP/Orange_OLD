URPPermaProps = {}

URPPermaProps.spawnprops = {
}

URPPermaProps.spawnents = {
	{Ent = 'darkrp_smuggler_01', Pos = Vector(6720.393066, -10823.361328, 60.031250), Ang = Angle(0, 141.993561, 0)},
	--{Ent = 'darkrp_radio', Pos = Vector(1552, 9025, 1599), Ang = Angle(0, 0, 0)},
	{Ent = 'npc_igs', Pos = Vector(-4390, 1248, 40), Ang = Angle(0, -180, 0)},

	{Ent = 'darkrp_delivery_01', Pos = Vector(-2905, -1279, 308), Ang = Angle(0, -180, 0)},
	{Ent = 'darkrp_delivery_02', Pos = Vector(1170, -3066, 48), Ang = Angle(0, 44.990437, 0)},

	{Ent = 'darkrp_trashbox', Pos = Vector(-5140, -432, 25), Ang = Angle(0, -180, 0)},
	{Ent = 'darkrp_trashbox', Pos = Vector(-1873, 1272, 25), Ang = Angle(0, 91, 0)},
	{Ent = 'darkrp_trashbox', Pos = Vector(-1846, -2964, 25), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_trashbox', Pos = Vector(-1765, -2962, 25), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_trashbox', Pos = Vector(-1682, -2962, 25), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_trashbox', Pos = Vector(-2256, 1563, 25), Ang = Angle(0, 90, 0)},

	{Ent = 'darkrp_locker', Pos = Vector(1381, 2830.428711, 786.031250), Ang = Angle(0, -180, 0)},
	
	{Ent = 'darkrp_ammocrate_01', Pos = Vector(1374, 2890, 768), Ang = Angle(0, -180, 0)},
	{Ent = 'darkrp_ammocrate_02', Pos = Vector(15677, -7833, -360), Ang = Angle(0, 90, 0)},

	{Ent = 'darkrp_sodavending', Pos = Vector(-3375, -1407.021484, 46.031250), Ang = Angle(0, 0, 0)},
	{Ent = 'darkrp_sodavending', Pos = Vector(-4845.708496, -6975.785156, 48), Ang = Angle(0, -90, 0)},
	{Ent = 'darkrp_sodavending', Pos = Vector(15729, -7465, -329), Ang = Angle(0, 180, 0)},

	{Ent = 'darkrp_locker', Pos = Vector(2178, 2852, 34.031250), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_ammocrate_01', Pos = Vector(2318, 3096, 15), Ang = Angle(0, -90, 0)},

	{Ent = 'darkrp_charger_01', Pos = Vector(2959, 2152, 54), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_charger_02', Pos = Vector(2912, 2152, 54), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_charger_01', Pos = Vector(15447, -7807, -321), Ang = Angle(0, 0, 0)},
	{Ent = 'darkrp_charger_02', Pos = Vector(15447, -7747, -321), Ang = Angle(0, 0, 0)},

	{Ent = 'darkrp_arresting', Pos = Vector(966, 3384, 0), Ang = Angle(0, -140, 0)},

	{Ent = 'darkrp_dispenser', Pos = Vector(148, -2214, 80), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_dispenser', Pos = Vector(51, -2214, 80), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_dispenser', Pos = Vector(-45, -2214, 80), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_dispenser', Pos = Vector(301, 845, 44), Ang = Angle(0, -90, 0)},
	{Ent = 'darkrp_dispenser', Pos = Vector(401, 845, 44), Ang = Angle(0, -90, 0)},
	{Ent = 'darkrp_dispenser', Pos = Vector(205, 845, 44), Ang = Angle(0, -90, 0)},

	{Ent = 'darkrp_supplies_01', Pos = Vector(-3478, -6560, -4), Ang = Angle(0, 0, 0)},
	{Ent = 'darkrp_supplies_02', Pos = Vector(1728, -3136, 68), Ang = Angle(0, 0, 0)},

	{Ent = 'darkrp_factory_01', Pos = Vector(-154, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_01', Pos = Vector(-71, -3268, 151), Ang = Angle(180, -90, 0)},
	{Ent = 'darkrp_factory_01', Pos = Vector(401, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_01', Pos = Vector(484, -3268, 151), Ang = Angle(180, -90, 0)},

	{Ent = 'darkrp_factory_02', Pos = Vector(-71, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_02', Pos = Vector(-154, -3268, 151), Ang = Angle(180, -90, 0)},
	{Ent = 'darkrp_factory_02', Pos = Vector(484, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_02', Pos = Vector(401, -3268, 151), Ang = Angle(180, -90, 0)},

	{Ent = 'darkrp_factory_03', Pos = Vector(-112.5, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_03', Pos = Vector(-112.5, -3268, 151), Ang = Angle(180, -90, 0)},
	{Ent = 'darkrp_factory_03', Pos = Vector(442.5, -2818, 151), Ang = Angle(180, 90, 0)},
	{Ent = 'darkrp_factory_03', Pos = Vector(442.5, -3268, 151), Ang = Angle(180, -90, 0)},

	{Ent = 'darkrp_factory_07', Pos = Vector(-238, -2919, 83), Ang = Angle(0, 0, 0)},
	{Ent = 'darkrp_factory_07', Pos = Vector(-238, -3179, 83), Ang = Angle(0, 0, 0)},
	{Ent = 'darkrp_factory_07', Pos = Vector(580, -2919, 83), Ang = Angle(0, 180, 0)},
	{Ent = 'darkrp_factory_07', Pos = Vector(580, -3179, 83), Ang = Angle(0, 180, 0)},

	-- XMASS!!!
	{Ent = 'zck_snowballcrate', Pos = Vector(-2439, -1775, -3), Ang = Angle(0, -20, 0)},

	-- {Ent = 'ztm_recycler', Pos = Vector(627, -1078, 0), Ang = Angle(0, 90, 0)},
	-- {Ent = 'ztm_recycler', Pos = Vector(627, -1245, 0), Ang = Angle(0, 90, 0)},
	-- {Ent = 'ztm_recycler', Pos = Vector(627, -1411, 0), Ang = Angle(0, 90, 0)},

	-- {Ent = 'ztm_trashburner', Pos = Vector(627, -613, 0), Ang = Angle(0, 0, 0)},
	-- {Ent = 'ztm_trashburner', Pos = Vector(627, -710, 0), Ang = Angle(0, 0, 0)},
	-- {Ent = 'ztm_trashburner', Pos = Vector(627, -805, 0), Ang = Angle(0, 0, 0)},

	-- {Ent = 'ztm_buyermachine', Pos = Vector(943, -799, 0), Ang = Angle(0, 90, 0)},
	-- {Ent = 'ztm_buyermachine', Pos = Vector(943, -707, 0), Ang = Angle(0, 90, 0)},
	-- {Ent = 'ztm_buyermachine', Pos = Vector(943, -609, 0), Ang = Angle(0, 90, 0)},

	-- {Ent = 'ztm_manhole', Pos = Vector(-2412, -1765, -2), Ang = Angle(0, 0, 0)},
	-- {Ent = 'ztm_manhole', Pos = Vector(-233, -1773, -2), Ang = Angle(0, 0, 0)},
	-- {Ent = 'ztm_manhole', Pos = Vector(-239, 746, -2), Ang = Angle(0, 0, 0)},
	-- {Ent = 'ztm_manhole', Pos = Vector(-2419, 769, -2), Ang = Angle(0, 0, 0)}
}

URPPermaProps.spawnlootables = {
	{Ent = 'itemstore_loot', Pos = Vector(2925.281250, -14351.906250, 50.062500), Ang = Angle(9.475708, -89.379272, -4)},
	{Ent = 'itemstore_loot', Pos = Vector(3393.187500, -10344.312500, 108.250000), Ang = Angle(0.867920, -87.984009, 11)},
	{Ent = 'itemstore_loot', Pos = Vector(6003.218750, -12879.187500, 115.562500), Ang = Angle(-13.628540, -151.347656, -4)},
	{Ent = 'itemstore_loot', Pos = Vector(8882.250000, -12562.281250, 20.000000), Ang = Angle(-13.244019, -170.930786, -0)},

	{Ent = 'itemstore_loot', Pos = Vector(10732.937500, -14580.593750, 35.875000), Ang = Angle(-10.788574, -57.892456, 0)},
	{Ent = 'itemstore_loot', Pos = Vector(11204.093750, -8322.593750, -31.656250), Ang = Angle(4.531860, -107.836304, 4)},
	{Ent = 'itemstore_loot', Pos = Vector(10645.281250, -5061.406250, 14.406250), Ang = Angle(4.119873, -54.832764, 8)},
	{Ent = 'itemstore_loot', Pos = Vector(6260.125000, -5014.875000, 23.093750), Ang = Angle(-7.349854, 89.384766, -2)},

	{Ent = 'itemstore_loot', Pos = Vector(14437.843750, -13885.656250, -3.875000), Ang = Angle(0, -44.994507, 0)},
	{Ent = 'itemstore_loot', Pos = Vector(-1825.375000, 1754.750000, 19.531250), Ang = Angle(3.834229, 169.843140, 1)},

	{Ent = 'itemstore_loot', Pos = Vector(-3310, -5563, -3), Ang = Angle(0, -45, 0)},
	{Ent = 'itemstore_loot', Pos = Vector(-4547, -5907, -333), Ang = Angle(0, 90, 0)},
	{Ent = 'itemstore_loot', Pos = Vector(-1261.000000, -6258.968750, 278.656250), Ang = Angle(6, 31, -1)}
}

URPPermaProps.spawnsmugglerbandits = {
	{Ent = 'darkrp_smuggler_02', Pos = Vector(-5127, -486, 0), Ang = Angle(0, -136, 0)},
	{Ent = 'darkrp_smuggler_02', Pos = Vector(-3793, 309, 0), Ang = Angle(0, 90, 0)},
	{Ent = 'darkrp_smuggler_02', Pos = Vector(-2512, 1875, 0), Ang = Angle(0, 57, 0)},
	{Ent = 'darkrp_smuggler_02', Pos = Vector(-2078, 1950, -333), Ang = Angle(0, -110, 0)}
}

URPPermaProps.spawnjobs = {
	{Ent = 'darkrp_jobsystem', Pos = Vector(-4390, 1290, 40), Ang = Angle(0, -180, 0), Model = "models/retrime/group01/male_09.mdl", Category = "Гражданские"},
	{Ent = 'darkrp_jobsystem', Pos = Vector(-3188, -1271, 0), Ang = Angle(0, -90.668533, 0), Model = "models/retrime/metropolice/rct.mdl", Category = "Гражданская oборона"},
	{Ent = 'darkrp_jobsystem', Pos = Vector(-3047., -1271, 0), Ang = Angle(0, -90.668556, 0), Model = "models/retrime/group02/male_01.mdl", Category = "Гражданский Союз Рабочих"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(1529, 2854, 0), Ang = Angle(0, -90.668533, 0), Model = "models/retrime/metropolice/union.mdl", Category = "Гражданская оборона"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(1750, 3637, 0), Ang = Angle(0, -90.668533, 0), Model = "models/retrime/overwatch/echo.mdl", Category = "Сверхчеловеческий отдел"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(6612, -10011, 28), Ang = Angle(2.891682, 180, 0), Model = "models/retrime/group03/male_09.mdl", Category = "Сопротивление"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(6612, -10101, 28), Ang = Angle(2.891682, 180, 0), Model = "models/retrime/hecu/hecu_03.mdl", Category = "Спецподразделение HECU"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(15237, -7834, -374), Ang = Angle(0, -89.875687, 0), Model = "models/retrime/guild/guild_01.mdl", Category = "Гильдия NS"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(15307, -7834, -374), Ang = Angle(0, -89.443703, 0), Model = "models/retrime/dod/dod_soldier.mdl", Category = "Division of Death"},
	{Ent = 'darkrp_jobsystem', Pos = Vector(-4655, -7184, 0), Ang = Angle(0, 160.935730, 0), Model = "models/retrime/group01/male_07.mdl", Category = "Беженцы"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(-1051, -2957, 0), Ang = Angle(0, 131.573044, 0), Model = "models/retrime/group02b/male_05.mdl", Category = "Бандиты"}, 
	{Ent = 'darkrp_jobsystem', Pos = Vector(1526, 2546, 375), Ang = Angle(0, 90, 0), Model = "models/Player/com_night_elite.mdl", Category = "Отряд Guardian"},
	{Ent = 'darkrp_jobsystem', Pos = Vector(1690, 3637, 0), Ang = Angle(0, -90, 0), Model = "models/stalker.mdl", Category = "Синтеты"} 
}

URPPermaProps.spawnsigrushki = {
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-3540, -4817, 320), Ang = Angle(-0, 8, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(91, -1650, 143), Ang = Angle(-4, -98, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-3646, -1500, 19), Ang = Angle(0, 155, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(1013, -2808, 218), Ang = Angle(14, 65, -6)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-2134, -2707, 128), Ang = Angle(-0, 144, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-3868, 1942, 136), Ang = Angle(-0, -149, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(46, -567, 161), Ang = Angle(8, -60, -20)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-3487, -1464, 288), Ang = Angle(-0, 89, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-2973, -1426, 175), Ang = Angle(-0, 131, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(809, -2373, 103), Ang = Angle(0, -170, -0)},

	{Ent = 'darkrp_christmas_balls', Pos = Vector(10224, -7156, 310), Ang = Angle(2, 161, 17)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(9215, -6115, 235), Ang = Angle(21, 3, -10)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(6366, -4089, 1), Ang = Angle(13, 115, 6)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(10496, -9308, 21), Ang = Angle(6, 93, -8)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(13476, -10506, 9), Ang = Angle(-0, -141, -9)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(11727, -13881, -1), Ang = Angle(0, 26, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(3483, -11773, 93), Ang = Angle(0, -50, 18)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-3458, -4180, 54), Ang = Angle(0, -11, -5)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-1302, -5724, 176), Ang = Angle(37, 39, -9)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-4001, -5019, 62), Ang = Angle(-3, -74, 3)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-4602, -4904, 10), Ang = Angle(0, 16, 0)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-5210, -4536, 8), Ang = Angle(4, 13, -3)},

	{Ent = 'darkrp_christmas_balls', Pos = Vector(-2231, -6237, -235), Ang = Angle(31, 131, 27)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-6233.687500, -5846.125000, 36.250000), Ang = Angle(35, 57, -30)},
	{Ent = 'darkrp_christmas_balls', Pos = Vector(-4614, -3584, 155), Ang = Angle(8, -81, -30)},
}

local corpses = {
	{
		model = "models/deadbodies/dead_male_civilian_draped_01.mdl",
		pos = Vector(-1870, 1325, 0),
		ang = Angle(0, 180, 0)
	},
	{
		model = "models/deadbodies/dead_female_civilian_draped_02.mdl",
		pos = Vector(-2141, 1620, 0),
		ang = Angle(0, 0, 0)
	},
	{
		model = "models/deadbodies/dead_male_civilian_01.mdl",
		pos = Vector(-1793, 1875, 0),
		ang = Angle(0, 180, 0)
	},
	{
		model = "models/deadbodies/bodies128_a.mdl",
		pos = Vector(-2243, 1892, 0),
		ang = Angle(0, 90, 0)
	},

	{
		model = "models/deadbodies/dead_female_civilian_02.mdl",
		pos = Vector(-3404, -260, 0),
		ang = Angle(0, -176, 0)
	},

	{
		model = "models/deadbodies/bodies96_b.mdl",
		pos = Vector(-223, -2625, 1),
		ang = Angle(0, 180, 0)
	},

	{
		model = "models/deadbodies/dead_female_civilian_draped_01.mdl",
		pos = Vector(-3861, -1128, 0),
		ang = Angle(0, 0, 0)
	},
	{
		model = "models/deadbodies/dead_male_civilian_draped_01.mdl",
		pos = Vector(-3852, -1189, 0),
		ang = Angle(0, 0, 0)
	},
	{
		model = "models/deadbodies/dead_female_civilian_draped_02.mdl",
		pos = Vector(-3866, -1252, 0),
		ang = Angle(0, 0, 0)
	},

	{
		model = "models/deadbodies/dead_female_civilian_02.mdl",
		pos = Vector(-2870, -4857, 303),
		ang = Angle(0, -90, 0)
	},
	{
		model = "models/deadbodies/bodieshall128.mdl",
		pos = Vector(-3567, -4912, 169),
		ang = Angle(0, 90, 0)
	},
	{
		model = "models/deadbodies/bodies128_b.mdl",
		pos = Vector(-3299, -4706, 169),
		ang = Angle(0, -90, 0)
	},
	{
		model = "models/deadbodies/dead_male_civilian_02.mdl",
		pos = Vector(-3356, -4636, 32),
		ang = Angle(0, 135, 0)
	},
	{
		model = "models/deadbodies/dead_male_civilian_01.mdl",
		pos = Vector(-3467, -4959, 32),
		ang = Angle(0, 90, 0)
	},

	{
		model = "models/deadbodies/bodies128_a.mdl",
		pos = Vector(-1982, -4669, 1),
		ang = Angle(0, -90, 0)
	},
	{
		model = "models/deadbodies/bodies128_b.mdl",
		pos = Vector(-2216, -4674, 1),
		ang = Angle(0, 90, 0)
	},

	{
		model = "models/deadbodies/dead_female_civilian_01.mdl",
		pos = Vector(-3255, -5598, -4),
		ang = Angle(0, -45, 0)
	}
}

local function SpawnLootables()
	local copy = URPPermaProps.spawnlootables
	local tbl = {}

	for i = 1, 8 do
		local index = math.random(#copy)
		table.insert(tbl, copy[index])
		table.remove(copy, index)
	end

	for i, v in ipairs(tbl) do
		local entity = ents.Create(v.Ent);
		entity:SetMoveType(MOVETYPE_NONE);
		entity:SetPos(v.Pos);
		entity:SetAngles(v.Ang);
		entity:Spawn();
		entity:Activate();
		entity.isperma = true
		local phys = entity:GetPhysicsObject()
		if (IsValid(phys)) then
			phys:EnableMotion(false)
		end
	end
end

local function RemoveLootables()
	for k, v in ipairs(ents.FindByClass("itemstore_loot")) do
		v:Remove()
	end
end

local function RemoveSmugglerBandits()
	for k, v in ipairs(ents.FindByClass("darkrp_smuggler_02")) do
		v:Remove()
	end
end

local function DelPropsAndEnts()
	for k,v in ipairs(ents.GetAll()) do
		if v.isperma == true then
			v:Remove()
		end
	end
end

local function SpawnPropsAndEnts()
	for k,v in ipairs(URPPermaProps.spawnprops) do
		local entity = ents.Create("prop_physics");
		entity:SetModel(v.dModel);
		entity:SetMoveType(MOVETYPE_NONE);
		entity:SetPos( v.Pos );
		entity:SetAngles( v.Ang );
		entity:Activate();
		entity.isperma = true
		if v.dMaterial != '' then
			entity:SetMaterial(v.dMaterial)
		end
		entity:Spawn();
		local phys = entity:GetPhysicsObject()
		if (IsValid(phys)) then
			phys:EnableMotion(false)
		end
	end
	for k,v in ipairs(URPPermaProps.spawnents) do
		local entity = ents.Create(v.Ent);
		entity:SetMoveType(MOVETYPE_NONE);
		entity:SetPos( v.Pos );
		entity:SetAngles( v.Ang );
		entity:Spawn();
		entity:Activate();
		entity.isperma = true
		local phys = entity:GetPhysicsObject()
		if (IsValid(phys)) then
			phys:EnableMotion(false)
		end
	end
	for k,v in ipairs(URPPermaProps.spawnjobs) do
		local entity = ents.Create(v.Ent);
		entity:SetMoveType(MOVETYPE_NONE);
		entity:SetModel(v.Model)
		entity:SetPos( v.Pos );
		entity:SetAngles( v.Ang );
		entity:Spawn();
		entity:Activate();
		entity.isperma = true
		local phys = entity:GetPhysicsObject()
		if (IsValid(phys)) then
			phys:EnableMotion(false)
		end
		entity:SetCategory(v.Category)
	end
	for k, v in ipairs(corpses) do
		local ent = ents.Create("darkrp_corpse")
		ent:SetModel(v.model)
		ent:SetPos(v.pos)
		ent:SetAngles(v.ang)
		ent:Spawn()
	end
end

local function SpawnSmuggler()

	timer.Simple(1,function()
		local copy = URPPermaProps.spawnsmugglerbandits
		local tbl = {}
	
		local index = math.random(#copy)
		table.insert(tbl, copy[index])

		for i, v in ipairs(tbl) do
			local entity = ents.Create(v.Ent);
			entity:SetMoveType(MOVETYPE_NONE);
			entity:SetPos(v.Pos);
			entity:SetAngles(v.Ang);
			entity:Spawn();
			entity:Activate();
			entity.isperma = true
			local phys = entity:GetPhysicsObject()
			if (IsValid(phys)) then
				phys:EnableMotion(false)
			end
		end
		timer.Create("RespawnValerich", 3600, 1, function()
			timer.Simple(0,function()
				RemoveSmugglerBandits()
			end)
			timer.Simple(1,function()
				SpawnSmuggler()
			end)
		end)
	end)
end

local function SpawnIgrushki()

	timer.Simple(1,function()
		local copy = URPPermaProps.spawnsigrushki
		local tbl = {}

		for i = 1, 26 do
			local index = math.random(#copy)
			table.insert(tbl, copy[index])
		end

		for i, v in ipairs(tbl) do
			local entity = ents.Create(v.Ent);
			entity:SetMoveType(MOVETYPE_NONE);
			entity:SetPos(v.Pos);
			entity:SetAngles(v.Ang);
			entity:Spawn();
			entity:Activate();
			entity.isperma = true
			local phys = entity:GetPhysicsObject()
			if (IsValid(phys)) then
				phys:EnableMotion(false)
			end
		end
		timer.Create("RespawnValerich", 300, 1, function()
			timer.Simple(0,function()
				RemoveSmugglerBandits()
			end)
			timer.Simple(1,function()
				SpawnSmuggler()
			end)
		end)
	end)
end

hook.Add("InitPostEntity", "LoadingPropsAndEnts", function()
	timer.Simple(5,function()
		DelPropsAndEnts()
		RemoveLootables()
		RemoveSmugglerBandits()
	end)
	timer.Simple(7,function()
		SpawnPropsAndEnts()
		SpawnLootables()
		SpawnSmuggler()
	end)
end)

hook.Add("PostCleanupMap","SpawnTheProps", function()
	timer.Simple(0,function()
		DelPropsAndEnts()
		RemoveLootables()
		RemoveSmugglerBandits()
	end)
	timer.Simple(1,function()
		SpawnPropsAndEnts()
		SpawnLootables()
		SpawnSmuggler()
		SpawnIgrushki()
	end)
end)

timer.Create("Corpses", 300, 0, function()
	for k, v in ipairs(ents.FindByClass("darkrp_corpse")) do
		v:Remove()
	end
	for k, v in ipairs(corpses) do
		local ent = ents.Create("darkrp_corpse")
		ent:SetModel(v.model)
		ent:SetPos(v.pos)
		ent:SetAngles(v.ang)
		ent:Spawn()
	end
end)